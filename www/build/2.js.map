{"version":3,"sources":["../../src/pages/stardetail/stardetail.module.ts","../../src/pages/stardetail/stardetail.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { StardetailPage } from './stardetail';\n\n@NgModule({\n  declarations: [\n    StardetailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(StardetailPage),\n  ],\n})\nexport class StardetailPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/stardetail/stardetail.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Loading, LoadingController, \n   ViewController, ToastController, Modal, ModalOptions, ModalController } from 'ionic-angular';\n//import { IonicPage, NavController, NavParams, ViewController, ToastController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner';\nimport { RestProvider } from '../../providers/rest/rest';\n\n/**\n * Generated class for the StardetailPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-stardetail',\n  templateUrl: 'stardetail.html',\n})\nexport class StardetailPage {\n  event: any;\n  asistLabel = \"Por Confirmar\";\n  assist: boolean = false;\n  role = null\n  actionArray = [];\n  accessArray = [];\n  fixedAction = { url: \"http://bi.iflexsoftware.com:8080/pentaho/\",\n   browsertype:\"Internal\",\n   session: false};\n   fixedAction1 = { url: \"http://bi.iflexsoftware.com:8080/pentaho/\",\n   browsertype:\"External\",\n   session: false};\n   enableAccess = false;\n   error = false;\n   r_exit = false;\n   r_enter = true;\n   customStyle = \"toast-nice\";\n   loading: Loading;\n   publicEvents: any;\n  privateEvents: any;\n  schoolEvents: any;\n   \n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    private view: ViewController,\n    private toastCtrl: ToastController,\n    private loadingCtrl: LoadingController,\n    private storage: Storage,\n    private scanner: BarcodeScanner,\n    private rest: RestProvider,\n    private modal: ModalController\n    ) {\n  }\n\n  ionViewWillLoad(){\n    this.event = this.navParams.get('event');\n    //console.log(\"EventDatil Param Recevied:\", JSON.stringify(this.event));\n    if (this.event.confirmation == \"Confirmado\") {\n      this.asistLabel = \"Confirmado\";\n      this.assist = true;\n    } else if (this.event.confirmation == \"No Asistire\") {\n      this.asistLabel = \"No Asistire\";\n      this.assist = false;\n    }\n    if (this.event.actions != undefined) {\n      this.actionArray = this.event.actions;\n    }\n    this.fixedAction.url = this.fixedAction.url+\"&activity_id=\"+this.event.a001_activity_id;\n    if (this.event.access != undefined) {\n      this.enableAccess = true;\n      this.accessArray = this.event.access;\n    }\n    if (this.event.r_enter!=undefined){\n      this.r_enter = (this.event.r_enter==\"N\")?false:true;\n    }\n    if (this.event.r_exit!=undefined){\n      this.r_exit = (this.event.r_exit==\"N\")?false:true;\n    }\n    console.log('ionViewDidLoad StardetailPage');\n    this.storage.get(\"settings\").then((settings)=>{\n      this.fixedAction.url = settings.base_dashboard+\"&activity_id=\"+this.event.a001_activity_id;\n      this.fixedAction1.url = settings.base_report+\"&id=\"+this.event.external_id;\n    })\n  }\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad StardetailPage');\n    this.storage.get(\"role\").then((role)=>{\n      this.role = role;\n    })\n  }\n  callClick(tel){\n    console.log('Call Click', tel);\n    window.open(\"tel:\"+tel, '_system');\n  }\n  emailClick(email){\n    console.log('Email Click', email);\n    window.open(\"mailto:\"+email,'_system', 'subject=Evento Agexport+')\n  }\n\n  dynamicAction(action){\n    if (action.browsertype == \"External\"){\n      this.openExternal(action);\n    } else if (action.browsertype == \"Internal\") {\n      this.openInternal(action);\n    }\n  }\n  openEvent(event){\n    const detailOptions: ModalOptions = {\n      enableBackdropDismiss: false\n    };\n    const detail: Modal = this.modal.create('StardetailPage', { event }, detailOptions);\n    detail.present();\n  }\n\n\n\n  openExternal(action){\n    this.storage.get(\"session_id\").then((session_id) => {\n      let agg = \"?\";\n      if (action.url.indexOf('?') > -1){\n        agg =\"&\"; \n      } \n      let fullpath = action.url+agg+\"session_id=\"+session_id+\"&activity_id=\"+this.event.a001_activity_id;\n      window.open(fullpath, '_system', 'location=yes');\n    });\n  }\n  openInternal(action){\n    this.navCtrl.push('InternalPage', { action });\n    /*\n    const detailOptions: ModalOptions = {\n      enableBackdropDismiss: false\n    };\n    const detail: Modal = this.modal.create('InternalPage', { action }, detailOptions);\n    detail.present();\n    */\n  }\n\n  scanQR(){\n    const qrData = {type: \"Asistencia\", record_id: this.event.activity_code, session_id: null };\n    this.scanner.scan().then((qr)=>{\n      qrData.session_id = qr.text; \n      this.rest.transaction(qrData).then((resolve: {message, style} ) => {\n        if (resolve.style != undefined) {\n          this.customStyle = resolve.style;\n        }\n        this.presentToast(resolve.message);\n      }, reject => {\n        this.customStyle = \"toast-danger\";\n        if (reject.status == '0' ){\n          this.presentToast(\"No hay comunicacion con el servicio. Revise su conexion a internet\");\n        } else {\n          this.presentToast(JSON.stringify(reject.error.error.message));\n        }\n\n      })\n\n    })\n  }\n  scanQRExit(){\n    const qrData = {type: \"Salida\", record_id: this.event.activity_code, session_id: null };\n    this.scanner.scan().then((qr)=>{\n      qrData.session_id = qr.text; \n      this.rest.transaction(qrData).then((resolve: {message} ) => {\n        this.presentToast(resolve.message);\n      }, reject => {\n        this.customStyle = \"toast-danger\";\n        if (reject.status == '0' ){\n          this.presentToast(\"No hay comunicacion con el servicio. Revise su conexion a internet\");\n        } else {\n          this.presentToast(JSON.stringify(reject.error.error.message));\n        }\n\n      })\n\n    })\n  }\n\n  updateConfirmation(){\n    this.storage.get('session_id').then((session_id)=>{\n      const postData = { \n        session_id: session_id,\n        activity_code: this.event.activity_code,\n        assist: this.assist\n      }\n      console.log('Assist Payload:', JSON.stringify(postData))\n    \n      \n      this.rest.eventConfirmation(postData).then((resolve: any ) => {\n        this.presentToast(resolve.data.message);\n        if (this.event.confirmation == \"Confirmado\") {\n          this.asistLabel = \"No Asistire\";\n        } else if (this.event.confirmation == \"No Asistire\" || this.asistLabel == 'Por Confirmar') {\n          this.asistLabel = \"Confirmado\";\n        } \n      }, reject => {\n        this.customStyle = \"toast-danger\";\n        if (reject.status == '0' ){\n          this.presentToast(\"No hay comunicacion con el servicio. Revise su conexion a internet\");\n        } else {\n          this.presentToast(JSON.stringify(reject.error.error.message));\n        }\n\n      })\n    })\n    this.manualRefresh();\n\n  }\n  showLoading() {\n    this.loading = this.loadingCtrl.create({\n      content: 'Please wait...',\n      dismissOnPageChange: true\n    });\n    this.loading.present();\n  }\n\n  manualRefresh(){\n    console.log(\"Manual Refresh\");\n    this.showLoading();\n    this.rest.events().then(\n      (resolve: { succes, Publico, Privado, Escuela }) => {\n        this.publicEvents =resolve.Publico;\n        this.privateEvents=resolve.Privado;\n        this.schoolEvents=resolve.Escuela;\n        this.storage.get('role').then((role)=>{\n          this.role = role;\n          console.log('Events Role:', this.role);\n        })\n      },\n      (reject) => {\n        if (reject.status == '0' ) {\n        } else {\n          this.customStyle = \"toast-danger\";\n          this.presentToast(JSON.stringify(reject.error.error.message));\n        }\n      });\n      \n    this.loading.dismiss();\n  }\n\n\n  closeModal(){\n    this.view.dismiss(this.event);\n  }\n  presentToast(msg) {\n    let toast = this.toastCtrl.create({\n      message: msg,\n      showCloseButton: true,\n      closeButtonText: 'Ok',\n      position: 'middle',\n      cssClass: this.customStyle\n    });\n  \n    toast.onDidDismiss(() => {\n      console.log('Dismissed toast');\n      this.error = false;\n      this.customStyle = \"toast-nice\";\n    });\n    toast.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/stardetail/stardetail.ts"],"sourceRoot":""}